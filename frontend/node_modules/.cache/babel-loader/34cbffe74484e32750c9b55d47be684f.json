{"ast":null,"code":"import _objectSpread from\"D:/WORKSPACE/Project/BinhMinhGlobal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"D:/WORKSPACE/Project/BinhMinhGlobal/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"component\"];import React from\"react\";import{Route,Redirect}from\"react-router-dom\";import{useSelector}from\"react-redux\";import AppLoader from\"../../layouts/AppLoader\";import{jsx as _jsx}from\"react/jsx-runtime\";var PrivateRoute=function PrivateRoute(_ref){var Component=_ref.component,rest=_objectWithoutProperties(_ref,_excluded);var user=useSelector(function(state){return state.user;});var admin=useSelector(function(state){return state.admin;});return/*#__PURE__*/_jsx(Route,_objectSpread({render:function render(props){if(user.loading){return/*#__PURE__*/_jsx(AppLoader,{});}if(!user.isAuthenticated){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}if(admin.isAuthenticated&&admin.getRole.keyRole===\"admin\"){return/*#__PURE__*/_jsx(Redirect,{to:\"/users\"});}if(user.isAuthenticated&&user.getRole.keyRole===\"user\"){return/*#__PURE__*/_jsx(Component,_objectSpread({},props));}}},rest));};export default PrivateRoute;","map":{"version":3,"names":["React","Route","Redirect","useSelector","AppLoader","jsx","_jsx","PrivateRoute","_ref","Component","component","rest","_objectWithoutProperties","_excluded","user","state","admin","_objectSpread","render","props","loading","isAuthenticated","to","getRole","keyRole"],"sources":["D:/WORKSPACE/Project/BinhMinhGlobal/frontend/src/components/routing/PrivateRoute.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect, RouteProps } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport AppLoader from \"../../layouts/AppLoader\";\r\nimport { RootState } from \"../../redux/reducers\";\r\n\r\ntype Props = {\r\n  component: React.ComponentType<RouteProps>;\r\n};\r\n\r\nconst PrivateRoute: React.FC<Props> = ({\r\n  component: Component,\r\n  ...rest\r\n}): JSX.Element => {\r\n  const user = useSelector((state: RootState) => state.user);\r\n  const admin = useSelector((state: RootState) => state.admin);\r\n\r\n  return (\r\n    <Route\r\n      render={(props) => {\r\n        if (user.loading) {\r\n          return <AppLoader />;\r\n        }\r\n        if (!user.isAuthenticated) {\r\n          return <Redirect to='/' />;\r\n        }\r\n        if (admin.isAuthenticated && admin.getRole.keyRole === \"admin\") {\r\n          return <Redirect to='/users' />;\r\n        }\r\n        if (user.isAuthenticated && user.getRole.keyRole === \"user\") {\r\n          return <Component {...props} />;\r\n        }\r\n      }}\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n"],"mappings":"mTAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,CAAEC,QAAQ,KAAoB,kBAAkB,CAC9D,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAOhD,GAAM,CAAAC,YAA6B,CAAG,QAAhC,CAAAA,YAA6BA,CAAAC,IAAA,CAGhB,IAFN,CAAAC,SAAS,CAAAD,IAAA,CAApBE,SAAS,CACNC,IAAI,CAAAC,wBAAA,CAAAJ,IAAA,CAAAK,SAAA,EAEP,GAAM,CAAAC,IAAI,CAAGX,WAAW,CAAC,SAACY,KAAgB,QAAK,CAAAA,KAAK,CAACD,IAAI,GAAC,CAC1D,GAAM,CAAAE,KAAK,CAAGb,WAAW,CAAC,SAACY,KAAgB,QAAK,CAAAA,KAAK,CAACC,KAAK,GAAC,CAE5D,mBACEV,IAAA,CAACL,KAAK,CAAAgB,aAAA,EACJC,MAAM,CAAE,SAAAA,OAACC,KAAK,CAAK,CACjB,GAAIL,IAAI,CAACM,OAAO,CAAE,CAChB,mBAAOd,IAAA,CAACF,SAAS,GAAE,CAAC,CACtB,CACA,GAAI,CAACU,IAAI,CAACO,eAAe,CAAE,CACzB,mBAAOf,IAAA,CAACJ,QAAQ,EAACoB,EAAE,CAAC,GAAG,CAAE,CAAC,CAC5B,CACA,GAAIN,KAAK,CAACK,eAAe,EAAIL,KAAK,CAACO,OAAO,CAACC,OAAO,GAAK,OAAO,CAAE,CAC9D,mBAAOlB,IAAA,CAACJ,QAAQ,EAACoB,EAAE,CAAC,QAAQ,CAAE,CAAC,CACjC,CACA,GAAIR,IAAI,CAACO,eAAe,EAAIP,IAAI,CAACS,OAAO,CAACC,OAAO,GAAK,MAAM,CAAE,CAC3D,mBAAOlB,IAAA,CAACG,SAAS,CAAAQ,aAAA,IAAKE,KAAK,CAAG,CAAC,CACjC,CACF,CAAE,EACER,IAAI,CACT,CAAC,CAEN,CAAC,CAED,cAAe,CAAAJ,YAAY"},"metadata":{},"sourceType":"module"}