{"ast":null,"code":"import axios from \"axios\";\nimport types from \"./types\";\nimport { setUserAuthToken } from \"../../utils/headers\";\nconst URI = \"https://binh-minh-global-api.vercel.app/api/v1/user\";\n\n// LOAD USER\nexport const loadUser = () => async dispatch => {\n  if (localStorage.user__token) setUserAuthToken(localStorage.user__token);\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  try {\n    const {\n      data\n    } = await axios.get(`${URI}/auth-user`, config);\n    dispatch({\n      type: types.USER_LOADED,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: types.USER_AUTH_ERROR\n    });\n  }\n};\n\n// GET CART\nexport const getCart = () => async dispatch => {\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  try {\n    const {\n      data\n    } = await axios.get(`${URI}/cart`, config);\n    dispatch({\n      type: types.GET_CARTS,\n      payload: data\n    });\n  } catch (error) {}\n};\n\n// ADD CART\nexport const addCart = (body, setSubmitting) => async dispatch => {\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  try {\n    const {\n      data\n    } = await axios.post(`${URI}/addCart`, body, config);\n    dispatch({\n      type: types.ADMIN_ADDCART_SUCCESS,\n      payload: data\n    });\n    localStorage.clear();\n    window.history.back();\n  } catch (error) {\n    dispatch({\n      type: types.ADMIN_ADDCART_FAIL\n    });\n  } finally {\n    setSubmitting(false);\n  }\n};\n\n// GET CITY\nexport const getCity = () => async dispatch => {\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  try {\n    const {\n      data\n    } = await axios.get(`${URI}/citys`, config);\n    dispatch({\n      type: types.GET_CITIES,\n      payload: data\n    });\n  } catch (error) {}\n};\n\n// GET PRODUCTS\nexport const getProduct = () => async dispatch => {\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  try {\n    const {\n      data\n    } = await axios.get(`${URI}/product`, config);\n    dispatch({\n      type: types.GET_PRODUCT,\n      payload: data\n    });\n  } catch (error) {}\n};\n\n// GET TYPEPRODUCT\nexport const getTypeProduct = () => async dispatch => {\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  try {\n    const {\n      data\n    } = await axios.get(`${URI}/typeProduct`, config);\n    dispatch({\n      type: types.GET_TYPEPRODUCT,\n      payload: data\n    });\n  } catch (error) {}\n};","map":{"version":3,"names":["axios","types","setUserAuthToken","URI","loadUser","dispatch","localStorage","user__token","config","header","data","get","type","USER_LOADED","payload","error","USER_AUTH_ERROR","getCart","GET_CARTS","addCart","body","setSubmitting","post","ADMIN_ADDCART_SUCCESS","clear","window","history","back","ADMIN_ADDCART_FAIL","getCity","GET_CITIES","getProduct","GET_PRODUCT","getTypeProduct","GET_TYPEPRODUCT"],"sources":["D:/WORKSPACE/Project/BinhMinhGlobal/frontend/src/redux/actions/user.ts"],"sourcesContent":["import { Dispatch } from \"redux\";\r\nimport axios from \"axios\";\r\nimport types from \"./types\";\r\nimport { setUserAuthToken } from \"../../utils/headers\";\r\nimport { UserActions } from \"../../redux/types/user\";\r\n\r\nconst URI = \"https://binh-minh-global-api.vercel.app/api/v1/user\";\r\n\r\n// LOAD USER\r\nexport const loadUser = () => async (dispatch: Dispatch<UserActions>) => {\r\n    if (localStorage.user__token) setUserAuthToken(localStorage.user__token);\r\n\r\n    const config: any = {\r\n        header: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    };\r\n\r\n    try {\r\n        const { data } = await axios.get(`${URI}/auth-user`, config);\r\n        dispatch({ type: types.USER_LOADED, payload: data });\r\n    } catch (error) {\r\n        dispatch({ type: types.USER_AUTH_ERROR });\r\n    }\r\n};\r\n\r\n// GET CART\r\nexport const getCart =\r\n    () => async (dispatch: Dispatch<UserActions>) => {\r\n        const config: any = {\r\n            header: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const { data } = await axios.get(`${URI}/cart`, config);\r\n            dispatch({ type: types.GET_CARTS, payload: data });\r\n        } catch (error: any) {\r\n        }\r\n    };\r\n\r\n// ADD CART\r\nexport const addCart =\r\n    (body: any, setSubmitting: any) =>\r\n        async (dispatch: Dispatch<UserActions>) => {\r\n            const config: any = {\r\n                header: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n            };\r\n\r\n            try {\r\n                const { data } = await axios.post(`${URI}/addCart`, body, config);\r\n                dispatch({\r\n                    type: types.ADMIN_ADDCART_SUCCESS,\r\n                    payload: data,\r\n                });\r\n                localStorage.clear()\r\n                window.history.back()\r\n            } catch (error: any) {\r\n                dispatch({ type: types.ADMIN_ADDCART_FAIL });\r\n            } finally {\r\n                setSubmitting(false);\r\n            }\r\n        };\r\n\r\n// GET CITY\r\nexport const getCity =\r\n    () => async (dispatch: Dispatch<UserActions>) => {\r\n        const config: any = {\r\n            header: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const { data } = await axios.get(`${URI}/citys`, config);\r\n            dispatch({ type: types.GET_CITIES, payload: data });\r\n        } catch (error: any) {\r\n        }\r\n    };\r\n\r\n// GET PRODUCTS\r\nexport const getProduct =\r\n    () => async (dispatch: Dispatch<UserActions>) => {\r\n        const config: any = {\r\n            header: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const { data } = await axios.get(`${URI}/product`, config);\r\n            dispatch({ type: types.GET_PRODUCT, payload: data });\r\n        } catch (error: any) {\r\n        }\r\n    };\r\n\r\n// GET TYPEPRODUCT\r\nexport const getTypeProduct =\r\n    () => async (dispatch: Dispatch<UserActions>) => {\r\n        const config: any = {\r\n            header: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const { data } = await axios.get(`${URI}/typeProduct`, config);\r\n            dispatch({ type: types.GET_TYPEPRODUCT, payload: data });\r\n        } catch (error: any) {\r\n        }\r\n    };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}