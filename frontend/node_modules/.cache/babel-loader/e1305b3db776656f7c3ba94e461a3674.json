{"ast":null,"code":"import _objectSpread from\"D:/WORKSPACE/Project/BinhMinhGlobal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import types from\"../../redux/actions/types\";var initialState={token:localStorage.getItem(\"user__token\"),loading:false,isAuthenticated:null,user:{},getRole:{},cities:[],carts:[],products:[],typeproducts:[],roles:[]};var userReducer=function userReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case types.USER_LOADED:return _objectSpread(_objectSpread(_objectSpread({},state),action.payload),{},{isAuthenticated:true,loading:false});case types.GET_CARTS:return _objectSpread(_objectSpread({},state),{},{carts:action.payload});case types.GET_CITIES:return _objectSpread(_objectSpread({},state),{},{cities:action.payload});case types.GET_PRODUCT:return _objectSpread(_objectSpread({},state),{},{products:action.payload});case types.GET_TYPEPRODUCT:return _objectSpread(_objectSpread({},state),{},{typeproducts:action.payload});case types.ADMIN_ADDCART_SUCCESS:return _objectSpread(_objectSpread(_objectSpread({},state),action.payload),{},{isAuthenticated:true,loading:false});case types.ADMIN_ADDCART_FAIL:case types.USER_AUTH_ERROR:localStorage.removeItem(\"user__token\");return _objectSpread(_objectSpread({},state),{},{token:null,isAuthenticated:false,loading:false,user:{}});default:return state;}};export default userReducer;","map":{"version":3,"names":["types","initialState","token","localStorage","getItem","loading","isAuthenticated","user","getRole","cities","carts","products","typeproducts","roles","userReducer","state","arguments","length","undefined","action","type","USER_LOADED","_objectSpread","payload","GET_CARTS","GET_CITIES","GET_PRODUCT","GET_TYPEPRODUCT","ADMIN_ADDCART_SUCCESS","ADMIN_ADDCART_FAIL","USER_AUTH_ERROR","removeItem"],"sources":["D:/WORKSPACE/Project/BinhMinhGlobal/frontend/src/redux/reducers/user.ts"],"sourcesContent":["import types from \"../../redux/actions/types\";\r\nimport { IUserState, UserActions } from \"../types/user\";\r\nimport { IUser } from \"../../redux/types/user\";\r\nimport { IRole } from \"../../redux/types/role\";\r\nimport { ICart } from \"../../redux/types/cart\";\r\nimport { ICity } from \"../../redux/types/city\";\r\nimport { IProduct } from \"../../redux/types/product\";\r\nimport { ITypeProduct } from \"../../redux/types/typeproduct\";\r\n\r\nconst initialState: IUserState = {\r\n    token: localStorage.getItem(\"user__token\"),\r\n    loading: false,\r\n    isAuthenticated: null,\r\n    user: {} as IUser,\r\n    getRole: {} as IRole,\r\n    cities: [] as ICity[],\r\n    carts: [] as ICart[],\r\n    products: [] as IProduct[],\r\n    typeproducts: [] as ITypeProduct[],\r\n    roles: [] as IRole[],\r\n};\r\n\r\nconst userReducer = (state = initialState, action: UserActions): IUserState => {\r\n    switch (action.type) {\r\n        case types.USER_LOADED:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n            };\r\n\r\n        case types.GET_CARTS:\r\n            return {\r\n                ...state,\r\n                carts: action.payload,\r\n            };\r\n\r\n        case types.GET_CITIES:\r\n            return {\r\n                ...state,\r\n                cities: action.payload,\r\n            };\r\n\r\n        case types.GET_PRODUCT:\r\n            return {\r\n                ...state,\r\n                products: action.payload,\r\n            };\r\n\r\n        case types.GET_TYPEPRODUCT:\r\n            return {\r\n                ...state,\r\n                typeproducts: action.payload,\r\n            };\r\n\r\n        case types.ADMIN_ADDCART_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n            };\r\n\r\n        case types.ADMIN_ADDCART_FAIL:\r\n        case types.USER_AUTH_ERROR:\r\n            localStorage.removeItem(\"user__token\");\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                isAuthenticated: false,\r\n                loading: false,\r\n                user: {} as IUser,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default userReducer;\r\n"],"mappings":"iIAAA,MAAO,CAAAA,KAAK,KAAM,2BAA2B,CAS7C,GAAM,CAAAC,YAAwB,CAAG,CAC7BC,KAAK,CAAEC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAC1CC,OAAO,CAAE,KAAK,CACdC,eAAe,CAAE,IAAI,CACrBC,IAAI,CAAE,CAAC,CAAU,CACjBC,OAAO,CAAE,CAAC,CAAU,CACpBC,MAAM,CAAE,EAAa,CACrBC,KAAK,CAAE,EAAa,CACpBC,QAAQ,CAAE,EAAgB,CAC1BC,YAAY,CAAE,EAAoB,CAClCC,KAAK,CAAE,EACX,CAAC,CAED,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAA8D,IAA1D,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGf,YAAY,IAAE,CAAAkB,MAAmB,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC1D,OAAQC,MAAM,CAACC,IAAI,EACf,IAAK,CAAApB,KAAK,CAACqB,WAAW,CAClB,OAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,IACOP,KAAK,EACLI,MAAM,CAACI,OAAO,MACjBjB,eAAe,CAAE,IAAI,CACrBD,OAAO,CAAE,KAAK,GAGtB,IAAK,CAAAL,KAAK,CAACwB,SAAS,CAChB,OAAAF,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRL,KAAK,CAAES,MAAM,CAACI,OAAO,GAG7B,IAAK,CAAAvB,KAAK,CAACyB,UAAU,CACjB,OAAAH,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRN,MAAM,CAAEU,MAAM,CAACI,OAAO,GAG9B,IAAK,CAAAvB,KAAK,CAAC0B,WAAW,CAClB,OAAAJ,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRJ,QAAQ,CAAEQ,MAAM,CAACI,OAAO,GAGhC,IAAK,CAAAvB,KAAK,CAAC2B,eAAe,CACtB,OAAAL,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRH,YAAY,CAAEO,MAAM,CAACI,OAAO,GAGpC,IAAK,CAAAvB,KAAK,CAAC4B,qBAAqB,CAC5B,OAAAN,aAAA,CAAAA,aAAA,CAAAA,aAAA,IACOP,KAAK,EACLI,MAAM,CAACI,OAAO,MACjBjB,eAAe,CAAE,IAAI,CACrBD,OAAO,CAAE,KAAK,GAGtB,IAAK,CAAAL,KAAK,CAAC6B,kBAAkB,CAC7B,IAAK,CAAA7B,KAAK,CAAC8B,eAAe,CACtB3B,YAAY,CAAC4B,UAAU,CAAC,aAAa,CAAC,CACtC,OAAAT,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRb,KAAK,CAAE,IAAI,CACXI,eAAe,CAAE,KAAK,CACtBD,OAAO,CAAE,KAAK,CACdE,IAAI,CAAE,CAAC,CAAU,GAGzB,QACI,MAAO,CAAAQ,KAAK,CACpB,CACJ,CAAC,CAED,cAAe,CAAAD,WAAW"},"metadata":{},"sourceType":"module"}