{"ast":null,"code":"import _objectSpread from\"D:/WORKSPACE/Project/BinhMinhGlobal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/WORKSPACE/Project/BinhMinhGlobal/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{Button,CircularProgress}from\"@material-ui/core\";import{Formik}from\"formik\";import*as Yup from\"yup\";import{useDispatch,useSelector}from\"react-redux\";import{addCity,getCity}from\"../../redux/actions/admin\";import{Box,Container,FormControl,FormLabel,TextField,Typography}from\"@mui/material\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{flexGrow:1,position:\"absolute\",top:\"0\",left:\"0\",width:\"100%\",minHeight:\"100vh\"},btnRegister:{marginTop:theme.spacing(2),padding:theme.spacing(1,2)},checkboxWrapper:{display:\"flex\",justifyContent:\"flex-start\",marginTop:theme.spacing(2)},textField:{margin:theme.spacing(1.5,0),textAlign:'left',fontSize:'13px',\"& .MuiInputBase-root\":{\"& fieldset\":{borderRadius:\"10px\"}}}};});var AddCity=function AddCity(){var classes=useStyles();var history=useHistory();var dispatch=useDispatch();var ADMIN=\"640cbf0573094a5e2e001859\";var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),cities=_React$useState2[0],setCities=_React$useState2[1];var City=useSelector(function(state){return state.admin;});var initialValues={nameCity:\"\"};var onHandleSubmit=function onHandleSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;dispatch(addCity(_objectSpread(_objectSpread({},values),{},{role:ADMIN}),setSubmitting));};var validationSchema=Yup.object({nameCity:Yup.string().required(\"Invalid nameCity!\")});React.useEffect(function(){dispatch(getCity());},[dispatch]);React.useEffect(function(){setCities(function(){var _City$cities;return City===null||City===void 0?void 0:(_City$cities=City.cities)===null||_City$cities===void 0?void 0:_City$cities.filter(function(city){return city.nameCity;});});},[City]);return/*#__PURE__*/_jsx(Container,{style:{maxWidth:600},children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:onHandleSubmit,children:function children(_ref2){var isSubmitting=_ref2.isSubmitting,handleSubmit=_ref2.handleSubmit,values=_ref2.values,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,errors=_ref2.errors,touched=_ref2.touched;return/*#__PURE__*/_jsx(\"form\",{noValidate:true,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:'column',justifyContent:'center',alignItems:'center',style:{backgroundColor:'white',padding:'40px 0px',borderRadius:'20px'},children:[/*#__PURE__*/_jsx(Typography,{style:{fontWeight:\"bold\",fontSize:\"18px\",margin:20},children:\"Th\\xEAm th\\xE0nh ph\\u1ED1\"}),/*#__PURE__*/_jsxs(FormControl,{style:{marginTop:2},children:[/*#__PURE__*/_jsx(FormLabel,{style:{fontWeight:\"bold\",fontSize:\"14px\",marginTop:2},children:\"T\\xEAn th\\xE0nh ph\\u1ED1\"}),/*#__PURE__*/_jsx(TextField,{style:{width:300},className:classes.textField,fullWidth:true,variant:'outlined',name:\"nameCity\",value:values.nameCity,onChange:handleChange,onBlur:handleBlur,placeholder:\"Nh\\u1EADp t\\xEAn th\\xE0nh ph\\u1ED1 mu\\u1ED1n th\\xEAm\",inputProps:{style:{fontSize:'12px'}},helperText:touched.nameCity?errors.nameCity:\"\",error:touched.nameCity?Boolean(errors.nameCity):false})]}),/*#__PURE__*/_jsxs(Box,{marginTop:2,children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:isSubmitting,style:{color:\"rgb(33, 43, 54)\",height:\"34px\",width:\"120px\",fontSize:\"12px\",borderRadius:\"4px\",fontWeight:500,textTransform:\"capitalize\",border:'1px solid rgb(33, 43, 54)',marginRight:10},children:isSubmitting?/*#__PURE__*/_jsx(CircularProgress,{size:\"1rem\"}):\"Thêm Thành Phố\"}),/*#__PURE__*/_jsx(Button,{style:{color:\"#FF6969\",height:\"34px\",width:\"120px\",fontSize:\"12px\",fontWeight:500,borderRadius:\"4px\",textTransform:\"capitalize\",border:'1px solid #FF6969'},onClick:history.goBack,children:\"Quay l\\u1EA1i\"})]})]})});}})});};export default AddCity;","map":{"version":3,"names":["React","makeStyles","Button","CircularProgress","Formik","Yup","useDispatch","useSelector","addCity","getCity","Box","Container","FormControl","FormLabel","TextField","Typography","useHistory","jsx","_jsx","jsxs","_jsxs","useStyles","theme","root","flexGrow","position","top","left","width","minHeight","btnRegister","marginTop","spacing","padding","checkboxWrapper","display","justifyContent","textField","margin","textAlign","fontSize","borderRadius","AddCity","classes","history","dispatch","ADMIN","_React$useState","useState","_React$useState2","_slicedToArray","cities","setCities","City","state","admin","initialValues","nameCity","onHandleSubmit","values","_ref","setSubmitting","_objectSpread","role","validationSchema","object","string","required","useEffect","_City$cities","filter","city","style","maxWidth","children","onSubmit","_ref2","isSubmitting","handleSubmit","handleChange","handleBlur","errors","touched","noValidate","flexDirection","alignItems","backgroundColor","fontWeight","className","fullWidth","variant","name","value","onChange","onBlur","placeholder","inputProps","helperText","error","Boolean","type","disabled","color","height","textTransform","border","marginRight","size","onClick","goBack"],"sources":["D:/WORKSPACE/Project/BinhMinhGlobal/frontend/src/pages/admin/AddCity.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button, CircularProgress } from \"@material-ui/core\";\r\nimport { Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { ICity } from \"../../redux/types/city\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../redux/reducers\";\r\n\r\nimport { addCity, getCity } from \"../../redux/actions/admin\";\r\n\r\nimport { Box, Container, FormControl, FormLabel, TextField, Typography } from \"@mui/material\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        position: \"absolute\",\r\n        top: \"0\",\r\n        left: \"0\",\r\n        width: \"100%\",\r\n        minHeight: \"100vh\",\r\n    },\r\n    btnRegister: {\r\n        marginTop: theme.spacing(2),\r\n        padding: theme.spacing(1, 2),\r\n    },\r\n    checkboxWrapper: {\r\n        display: \"flex\",\r\n        justifyContent: \"flex-start\",\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    textField: {\r\n        margin: theme.spacing(1.5, 0),\r\n        textAlign: 'left',\r\n        fontSize: '13px',\r\n        \"& .MuiInputBase-root\": {\r\n            \"& fieldset\": {\r\n                borderRadius: \"10px\",\r\n            },\r\n        },\r\n    },\r\n}));\r\n\r\ninterface IInitialValues {\r\n    nameCity: string;\r\n}\r\n\r\nconst AddCity: React.FC = (): JSX.Element => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const ADMIN = \"640cbf0573094a5e2e001859\";\r\n\r\n    const [cities, setCities] = React.useState<ICity[]>([]);\r\n    const City = useSelector((state: RootState) => state.admin);\r\n\r\n    const initialValues: IInitialValues = {\r\n        nameCity: \"\",\r\n    };\r\n\r\n    const onHandleSubmit = (values: IInitialValues, { setSubmitting }: any) => {\r\n        dispatch(addCity({ ...values, role: ADMIN }, setSubmitting))\r\n    };\r\n\r\n    const validationSchema = Yup.object({\r\n        nameCity: Yup.string().required(\"Invalid nameCity!\"),\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        dispatch(getCity());\r\n    }, [dispatch]);\r\n\r\n    React.useEffect(() => {\r\n        setCities(() => City?.cities?.filter((city: any) => city.nameCity));\r\n    }, [City]);\r\n\r\n    return (\r\n        <Container style={{ maxWidth: 600 }}>\r\n\r\n            <Formik\r\n                initialValues={initialValues}\r\n                validationSchema={validationSchema}\r\n                onSubmit={onHandleSubmit}\r\n            >\r\n                {({ isSubmitting, handleSubmit, values, handleChange, handleBlur, errors, touched }) => (\r\n                    <form noValidate onSubmit={handleSubmit}>\r\n                        <Box display={\"flex\"}\r\n                            flexDirection={'column'}\r\n                            justifyContent={'center'}\r\n                            alignItems={'center'}\r\n                            style={{ backgroundColor: 'white', padding: '40px 0px', borderRadius: '20px' }}>\r\n\r\n                            <Typography style={{ fontWeight: \"bold\", fontSize: \"18px\", margin: 20 }} >\r\n                                Thêm thành phố\r\n                            </Typography>\r\n\r\n                            <FormControl style={{ marginTop: 2 }} >\r\n                                <FormLabel style={{ fontWeight: \"bold\", fontSize: \"14px\", marginTop: 2 }}>\r\n                                    Tên thành phố\r\n                                </FormLabel>\r\n                                <TextField\r\n                                    style={{ width: 300, }}\r\n                                    className={classes.textField}\r\n                                    fullWidth\r\n                                    variant={'outlined'}\r\n                                    name='nameCity'\r\n                                    value={values.nameCity}\r\n                                    onChange={handleChange}\r\n                                    onBlur={handleBlur}\r\n                                    placeholder='Nhập tên thành phố muốn thêm'\r\n                                    inputProps={{\r\n                                        style: {\r\n                                            fontSize: '12px',\r\n                                        }\r\n                                    }}\r\n                                    helperText={touched.nameCity ? errors.nameCity : \"\"}\r\n                                    error={touched.nameCity ? Boolean(errors.nameCity) : false} />\r\n\r\n                            </FormControl>\r\n                            <Box marginTop={2}>\r\n                                <Button\r\n                                    type='submit'\r\n                                    disabled={isSubmitting}\r\n                                    style={{\r\n                                        color: \"rgb(33, 43, 54)\",\r\n                                        height: \"34px\",\r\n                                        width: \"120px\",\r\n                                        fontSize: \"12px\",\r\n                                        borderRadius: \"4px\",\r\n                                        fontWeight: 500,\r\n                                        textTransform: \"capitalize\",\r\n                                        border: '1px solid rgb(33, 43, 54)',\r\n                                        marginRight: 10\r\n                                    }}\r\n                                >\r\n                                    {isSubmitting ? <CircularProgress size='1rem' /> : \"Thêm Thành Phố\"}\r\n                                </Button>\r\n\r\n                                <Button style={{\r\n                                    color: \"#FF6969\",\r\n                                    height: \"34px\",\r\n                                    width: \"120px\",\r\n                                    fontSize: \"12px\",\r\n                                    fontWeight: 500,\r\n                                    borderRadius: \"4px\",\r\n                                    textTransform: \"capitalize\",\r\n                                    border: '1px solid #FF6969',\r\n\r\n                                }}\r\n                                    onClick={history.goBack}\r\n                                >Quay lại</Button>\r\n                            </Box>\r\n\r\n\r\n                        </Box>\r\n                    </form>\r\n                )}\r\n            </Formik>\r\n\r\n\r\n\r\n\r\n\r\n        </Container >\r\n\r\n    );\r\n};\r\n\r\nexport default AddCity;\r\n"],"mappings":"mQAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,0BAA0B,CACrD,OAASC,MAAM,CAAEC,gBAAgB,KAAQ,mBAAmB,CAC5D,OAASC,MAAM,KAAQ,QAAQ,CAC/B,MAAO,GAAK,CAAAC,GAAG,KAAM,KAAK,CAG1B,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAGtD,OAASC,OAAO,CAAEC,OAAO,KAAQ,2BAA2B,CAE5D,OAASC,GAAG,CAAEC,SAAS,CAAEC,WAAW,CAAEC,SAAS,CAAEC,SAAS,CAAEC,UAAU,KAAQ,eAAe,CAE7F,OAASC,UAAU,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,GAAM,CAAAC,SAAS,CAAGpB,UAAU,CAAC,SAACqB,KAAK,QAAM,CACrCC,IAAI,CAAE,CACFC,QAAQ,CAAE,CAAC,CACXC,QAAQ,CAAE,UAAU,CACpBC,GAAG,CAAE,GAAG,CACRC,IAAI,CAAE,GAAG,CACTC,KAAK,CAAE,MAAM,CACbC,SAAS,CAAE,OACf,CAAC,CACDC,WAAW,CAAE,CACTC,SAAS,CAAET,KAAK,CAACU,OAAO,CAAC,CAAC,CAAC,CAC3BC,OAAO,CAAEX,KAAK,CAACU,OAAO,CAAC,CAAC,CAAE,CAAC,CAC/B,CAAC,CACDE,eAAe,CAAE,CACbC,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,YAAY,CAC5BL,SAAS,CAAET,KAAK,CAACU,OAAO,CAAC,CAAC,CAC9B,CAAC,CACDK,SAAS,CAAE,CACPC,MAAM,CAAEhB,KAAK,CAACU,OAAO,CAAC,GAAG,CAAE,CAAC,CAAC,CAC7BO,SAAS,CAAE,MAAM,CACjBC,QAAQ,CAAE,MAAM,CAChB,sBAAsB,CAAE,CACpB,YAAY,CAAE,CACVC,YAAY,CAAE,MAClB,CACJ,CACJ,CACJ,CAAC,EAAC,CAAC,CAMH,GAAM,CAAAC,OAAiB,CAAG,QAApB,CAAAA,OAAiBA,CAAA,CAAsB,CACzC,GAAM,CAAAC,OAAO,CAAGtB,SAAS,CAAC,CAAC,CAC3B,GAAM,CAAAuB,OAAO,CAAG5B,UAAU,CAAC,CAAC,CAC5B,GAAM,CAAA6B,QAAQ,CAAGvC,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAwC,KAAK,CAAG,0BAA0B,CAExC,IAAAC,eAAA,CAA4B/C,KAAK,CAACgD,QAAQ,CAAU,EAAE,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAAhDI,MAAM,CAAAF,gBAAA,IAAEG,SAAS,CAAAH,gBAAA,IACxB,GAAM,CAAAI,IAAI,CAAG9C,WAAW,CAAC,SAAC+C,KAAgB,QAAK,CAAAA,KAAK,CAACC,KAAK,GAAC,CAE3D,GAAM,CAAAC,aAA6B,CAAG,CAClCC,QAAQ,CAAE,EACd,CAAC,CAED,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,MAAsB,CAAAC,IAAA,CAA6B,IAAzB,CAAAC,aAAa,CAAAD,IAAA,CAAbC,aAAa,CAC3DhB,QAAQ,CAACrC,OAAO,CAAAsD,aAAA,CAAAA,aAAA,IAAMH,MAAM,MAAEI,IAAI,CAAEjB,KAAK,GAAIe,aAAa,CAAC,CAAC,CAChE,CAAC,CAED,GAAM,CAAAG,gBAAgB,CAAG3D,GAAG,CAAC4D,MAAM,CAAC,CAChCR,QAAQ,CAAEpD,GAAG,CAAC6D,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,mBAAmB,CACvD,CAAC,CAAC,CAEFnE,KAAK,CAACoE,SAAS,CAAC,UAAM,CAClBvB,QAAQ,CAACpC,OAAO,CAAC,CAAC,CAAC,CACvB,CAAC,CAAE,CAACoC,QAAQ,CAAC,CAAC,CAEd7C,KAAK,CAACoE,SAAS,CAAC,UAAM,CAClBhB,SAAS,CAAC,eAAAiB,YAAA,OAAM,CAAAhB,IAAI,SAAJA,IAAI,kBAAAgB,YAAA,CAAJhB,IAAI,CAAEF,MAAM,UAAAkB,YAAA,iBAAZA,YAAA,CAAcC,MAAM,CAAC,SAACC,IAAS,QAAK,CAAAA,IAAI,CAACd,QAAQ,GAAC,GAAC,CACvE,CAAC,CAAE,CAACJ,IAAI,CAAC,CAAC,CAEV,mBACInC,IAAA,CAACP,SAAS,EAAC6D,KAAK,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAAC,QAAA,cAEhCxD,IAAA,CAACd,MAAM,EACHoD,aAAa,CAAEA,aAAc,CAC7BQ,gBAAgB,CAAEA,gBAAiB,CACnCW,QAAQ,CAAEjB,cAAe,CAAAgB,QAAA,CAExB,SAAAA,SAAAE,KAAA,KAAG,CAAAC,YAAY,CAAAD,KAAA,CAAZC,YAAY,CAAEC,YAAY,CAAAF,KAAA,CAAZE,YAAY,CAAEnB,MAAM,CAAAiB,KAAA,CAANjB,MAAM,CAAEoB,YAAY,CAAAH,KAAA,CAAZG,YAAY,CAAEC,UAAU,CAAAJ,KAAA,CAAVI,UAAU,CAAEC,MAAM,CAAAL,KAAA,CAANK,MAAM,CAAEC,OAAO,CAAAN,KAAA,CAAPM,OAAO,oBAC7EhE,IAAA,SAAMiE,UAAU,MAACR,QAAQ,CAAEG,YAAa,CAAAJ,QAAA,cACpCtD,KAAA,CAACV,GAAG,EAACyB,OAAO,CAAE,MAAO,CACjBiD,aAAa,CAAE,QAAS,CACxBhD,cAAc,CAAE,QAAS,CACzBiD,UAAU,CAAE,QAAS,CACrBb,KAAK,CAAE,CAAEc,eAAe,CAAE,OAAO,CAAErD,OAAO,CAAE,UAAU,CAAEQ,YAAY,CAAE,MAAO,CAAE,CAAAiC,QAAA,eAE/ExD,IAAA,CAACH,UAAU,EAACyD,KAAK,CAAE,CAAEe,UAAU,CAAE,MAAM,CAAE/C,QAAQ,CAAE,MAAM,CAAEF,MAAM,CAAE,EAAG,CAAE,CAAAoC,QAAA,CAAE,2BAE1E,CAAY,CAAC,cAEbtD,KAAA,CAACR,WAAW,EAAC4D,KAAK,CAAE,CAAEzC,SAAS,CAAE,CAAE,CAAE,CAAA2C,QAAA,eACjCxD,IAAA,CAACL,SAAS,EAAC2D,KAAK,CAAE,CAAEe,UAAU,CAAE,MAAM,CAAE/C,QAAQ,CAAE,MAAM,CAAET,SAAS,CAAE,CAAE,CAAE,CAAA2C,QAAA,CAAC,0BAE1E,CAAW,CAAC,cACZxD,IAAA,CAACJ,SAAS,EACN0D,KAAK,CAAE,CAAE5C,KAAK,CAAE,GAAK,CAAE,CACvB4D,SAAS,CAAE7C,OAAO,CAACN,SAAU,CAC7BoD,SAAS,MACTC,OAAO,CAAE,UAAW,CACpBC,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEjC,MAAM,CAACF,QAAS,CACvBoC,QAAQ,CAAEd,YAAa,CACvBe,MAAM,CAAEd,UAAW,CACnBe,WAAW,CAAC,sDAA8B,CAC1CC,UAAU,CAAE,CACRxB,KAAK,CAAE,CACHhC,QAAQ,CAAE,MACd,CACJ,CAAE,CACFyD,UAAU,CAAEf,OAAO,CAACzB,QAAQ,CAAGwB,MAAM,CAACxB,QAAQ,CAAG,EAAG,CACpDyC,KAAK,CAAEhB,OAAO,CAACzB,QAAQ,CAAG0C,OAAO,CAAClB,MAAM,CAACxB,QAAQ,CAAC,CAAG,KAAM,CAAE,CAAC,EAEzD,CAAC,cACdrC,KAAA,CAACV,GAAG,EAACqB,SAAS,CAAE,CAAE,CAAA2C,QAAA,eACdxD,IAAA,CAAChB,MAAM,EACHkG,IAAI,CAAC,QAAQ,CACbC,QAAQ,CAAExB,YAAa,CACvBL,KAAK,CAAE,CACH8B,KAAK,CAAE,iBAAiB,CACxBC,MAAM,CAAE,MAAM,CACd3E,KAAK,CAAE,OAAO,CACdY,QAAQ,CAAE,MAAM,CAChBC,YAAY,CAAE,KAAK,CACnB8C,UAAU,CAAE,GAAG,CACfiB,aAAa,CAAE,YAAY,CAC3BC,MAAM,CAAE,2BAA2B,CACnCC,WAAW,CAAE,EACjB,CAAE,CAAAhC,QAAA,CAEDG,YAAY,cAAG3D,IAAA,CAACf,gBAAgB,EAACwG,IAAI,CAAC,MAAM,CAAE,CAAC,CAAG,gBAAgB,CAC/D,CAAC,cAETzF,IAAA,CAAChB,MAAM,EAACsE,KAAK,CAAE,CACX8B,KAAK,CAAE,SAAS,CAChBC,MAAM,CAAE,MAAM,CACd3E,KAAK,CAAE,OAAO,CACdY,QAAQ,CAAE,MAAM,CAChB+C,UAAU,CAAE,GAAG,CACf9C,YAAY,CAAE,KAAK,CACnB+D,aAAa,CAAE,YAAY,CAC3BC,MAAM,CAAE,mBAEZ,CAAE,CACEG,OAAO,CAAEhE,OAAO,CAACiE,MAAO,CAAAnC,QAAA,CAC3B,eAAQ,CAAQ,CAAC,EACjB,CAAC,EAGL,CAAC,CACJ,CAAC,EACV,CACG,CAAC,CAMD,CAAC,CAGrB,CAAC,CAED,cAAe,CAAAhC,OAAO"},"metadata":{},"sourceType":"module"}