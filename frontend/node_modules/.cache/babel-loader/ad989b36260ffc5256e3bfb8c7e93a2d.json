{"ast":null,"code":"import _regeneratorRuntime from\"D:/WORKSPACE/Project/BinhMinhGlobal/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/WORKSPACE/Project/BinhMinhGlobal/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import types from\"./types\";import{setUserAuthToken}from\"../../utils/headers\";var URI=\"https://binh-minh-global-api.vercel.app/api/v1/user\";// LOAD USER\nexport var loadUser=function loadUser(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var config,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(localStorage.user__token)setUserAuthToken(localStorage.user__token);config={header:{\"Content-Type\":\"application/json\"}};_context.prev=2;_context.next=5;return axios.get(\"\".concat(URI,\"/auth-user\"),config);case 5:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:types.USER_LOADED,payload:data});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);dispatch({type:types.USER_AUTH_ERROR});case 13:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// GET CART\nexport var getCart=function getCart(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var config,_yield$axios$get2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:config={header:{\"Content-Type\":\"application/json\"}};_context2.prev=1;_context2.next=4;return axios.get(\"\".concat(URI,\"/cart\"),config);case 4:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;dispatch({type:types.GET_CARTS,payload:data});_context2.next=11;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// ADD CART\nexport var addCart=function addCart(body,setSubmitting){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:config={header:{\"Content-Type\":\"application/json\"}};_context3.prev=1;_context3.next=4;return axios.post(\"\".concat(URI,\"/addCart\"),body,config);case 4:_yield$axios$post=_context3.sent;data=_yield$axios$post.data;dispatch({type:types.ADMIN_ADDCART_SUCCESS,payload:data});localStorage.clear();window.history.back();_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](1);dispatch({type:types.ADMIN_ADDCART_FAIL});case 14:_context3.prev=14;setSubmitting(false);return _context3.finish(14);case 17:case\"end\":return _context3.stop();}},_callee3,null,[[1,11,14,17]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// GET CITY\nexport var getCity=function getCity(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var config,_yield$axios$get3,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:config={header:{\"Content-Type\":\"application/json\"}};_context4.prev=1;_context4.next=4;return axios.get(\"\".concat(URI,\"/citys\"),config);case 4:_yield$axios$get3=_context4.sent;data=_yield$axios$get3.data;dispatch({type:types.GET_CITIES,payload:data});_context4.next=11;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](1);case 11:case\"end\":return _context4.stop();}},_callee4,null,[[1,9]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};// GET PRODUCTS\nexport var getProduct=function getProduct(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){var config,_yield$axios$get4,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:config={header:{\"Content-Type\":\"application/json\"}};_context5.prev=1;_context5.next=4;return axios.get(\"\".concat(URI,\"/product\"),config);case 4:_yield$axios$get4=_context5.sent;data=_yield$axios$get4.data;dispatch({type:types.GET_PRODUCT,payload:data});_context5.next=11;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](1);case 11:case\"end\":return _context5.stop();}},_callee5,null,[[1,9]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};// GET TYPEPRODUCT\nexport var getTypeProduct=function getTypeProduct(){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dispatch){var config,_yield$axios$get5,data;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:config={header:{\"Content-Type\":\"application/json\"}};_context6.prev=1;_context6.next=4;return axios.get(\"\".concat(URI,\"/typeProduct\"),config);case 4:_yield$axios$get5=_context6.sent;data=_yield$axios$get5.data;dispatch({type:types.GET_TYPEPRODUCT,payload:data});_context6.next=11;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](1);case 11:case\"end\":return _context6.stop();}},_callee6,null,[[1,9]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","types","setUserAuthToken","URI","loadUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","config","_yield$axios$get","data","wrap","_callee$","_context","prev","next","localStorage","user__token","header","get","concat","sent","type","USER_LOADED","payload","t0","USER_AUTH_ERROR","stop","_x","apply","arguments","getCart","_ref2","_callee2","_yield$axios$get2","_callee2$","_context2","GET_CARTS","_x2","addCart","body","setSubmitting","_ref3","_callee3","_yield$axios$post","_callee3$","_context3","post","ADMIN_ADDCART_SUCCESS","clear","window","history","back","ADMIN_ADDCART_FAIL","finish","_x3","getCity","_ref4","_callee4","_yield$axios$get3","_callee4$","_context4","GET_CITIES","_x4","getProduct","_ref5","_callee5","_yield$axios$get4","_callee5$","_context5","GET_PRODUCT","_x5","getTypeProduct","_ref6","_callee6","_yield$axios$get5","_callee6$","_context6","GET_TYPEPRODUCT","_x6"],"sources":["D:/WORKSPACE/Project/BinhMinhGlobal/frontend/src/redux/actions/user.ts"],"sourcesContent":["import { Dispatch } from \"redux\";\r\nimport axios from \"axios\";\r\nimport types from \"./types\";\r\nimport { setUserAuthToken } from \"../../utils/headers\";\r\nimport { UserActions } from \"../../redux/types/user\";\r\n\r\nconst URI = \"https://binh-minh-global-api.vercel.app/api/v1/user\";\r\n\r\n// LOAD USER\r\nexport const loadUser = () => async (dispatch: Dispatch<UserActions>) => {\r\n    if (localStorage.user__token) setUserAuthToken(localStorage.user__token);\r\n\r\n    const config: any = {\r\n        header: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    };\r\n\r\n    try {\r\n        const { data } = await axios.get(`${URI}/auth-user`, config);\r\n        dispatch({ type: types.USER_LOADED, payload: data });\r\n    } catch (error) {\r\n        dispatch({ type: types.USER_AUTH_ERROR });\r\n    }\r\n};\r\n\r\n// GET CART\r\nexport const getCart =\r\n    () => async (dispatch: Dispatch<UserActions>) => {\r\n        const config: any = {\r\n            header: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const { data } = await axios.get(`${URI}/cart`, config);\r\n            dispatch({ type: types.GET_CARTS, payload: data });\r\n        } catch (error: any) {\r\n        }\r\n    };\r\n\r\n// ADD CART\r\nexport const addCart =\r\n    (body: any, setSubmitting: any) =>\r\n        async (dispatch: Dispatch<UserActions>) => {\r\n            const config: any = {\r\n                header: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n            };\r\n\r\n            try {\r\n                const { data } = await axios.post(`${URI}/addCart`, body, config);\r\n                dispatch({\r\n                    type: types.ADMIN_ADDCART_SUCCESS,\r\n                    payload: data,\r\n                });\r\n                localStorage.clear()\r\n                window.history.back()\r\n            } catch (error: any) {\r\n                dispatch({ type: types.ADMIN_ADDCART_FAIL });\r\n            } finally {\r\n                setSubmitting(false);\r\n            }\r\n        };\r\n\r\n// GET CITY\r\nexport const getCity =\r\n    () => async (dispatch: Dispatch<UserActions>) => {\r\n        const config: any = {\r\n            header: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const { data } = await axios.get(`${URI}/citys`, config);\r\n            dispatch({ type: types.GET_CITIES, payload: data });\r\n        } catch (error: any) {\r\n        }\r\n    };\r\n\r\n// GET PRODUCTS\r\nexport const getProduct =\r\n    () => async (dispatch: Dispatch<UserActions>) => {\r\n        const config: any = {\r\n            header: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const { data } = await axios.get(`${URI}/product`, config);\r\n            dispatch({ type: types.GET_PRODUCT, payload: data });\r\n        } catch (error: any) {\r\n        }\r\n    };\r\n\r\n// GET TYPEPRODUCT\r\nexport const getTypeProduct =\r\n    () => async (dispatch: Dispatch<UserActions>) => {\r\n        const config: any = {\r\n            header: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const { data } = await axios.get(`${URI}/typeProduct`, config);\r\n            dispatch({ type: types.GET_TYPEPRODUCT, payload: data });\r\n        } catch (error: any) {\r\n        }\r\n    };\r\n"],"mappings":"oRACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,OAASC,gBAAgB,KAAQ,qBAAqB,CAGtD,GAAM,CAAAC,GAAG,CAAG,qDAAqD,CAEjE;AACA,MAAO,IAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,oCAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAS,SAAAC,QAAOC,QAA+B,MAAAC,MAAA,CAAAC,gBAAA,CAAAC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAChE,GAAIC,YAAY,CAACC,WAAW,CAAElB,gBAAgB,CAACiB,YAAY,CAACC,WAAW,CAAC,CAElET,MAAW,CAAG,CAChBU,MAAM,CAAE,CACJ,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAAL,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAG0B,CAAAlB,KAAK,CAACsB,GAAG,IAAAC,MAAA,CAAIpB,GAAG,eAAcQ,MAAM,CAAC,QAAAC,gBAAA,CAAAI,QAAA,CAAAQ,IAAA,CAApDX,IAAI,CAAAD,gBAAA,CAAJC,IAAI,CACZH,QAAQ,CAAC,CAAEe,IAAI,CAAExB,KAAK,CAACyB,WAAW,CAAEC,OAAO,CAAEd,IAAK,CAAC,CAAC,CAACG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aAErDN,QAAQ,CAAC,CAAEe,IAAI,CAAExB,KAAK,CAAC4B,eAAgB,CAAC,CAAC,CAAC,yBAAAb,QAAA,CAAAc,IAAA,MAAArB,OAAA,iBAEjD,mBAAAsB,EAAA,SAAA1B,IAAA,CAAA2B,KAAA,MAAAC,SAAA,UAED;AACA,MAAO,IAAM,CAAAC,OAAO,CAChB,QADS,CAAAA,OAAOA,CAAA,oCAAAC,KAAA,CAAA7B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACV,SAAA4B,SAAO1B,QAA+B,MAAAC,MAAA,CAAA0B,iBAAA,CAAAxB,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAwB,UAAAC,SAAA,iBAAAA,SAAA,CAAAtB,IAAA,CAAAsB,SAAA,CAAArB,IAAA,SAClCP,MAAW,CAAG,CAChBU,MAAM,CAAE,CACJ,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAAkB,SAAA,CAAAtB,IAAA,GAAAsB,SAAA,CAAArB,IAAA,SAG0B,CAAAlB,KAAK,CAACsB,GAAG,IAAAC,MAAA,CAAIpB,GAAG,UAASQ,MAAM,CAAC,QAAA0B,iBAAA,CAAAE,SAAA,CAAAf,IAAA,CAA/CX,IAAI,CAAAwB,iBAAA,CAAJxB,IAAI,CACZH,QAAQ,CAAC,CAAEe,IAAI,CAAExB,KAAK,CAACuC,SAAS,CAAEb,OAAO,CAAEd,IAAK,CAAC,CAAC,CAAC0B,SAAA,CAAArB,IAAA,iBAAAqB,SAAA,CAAAtB,IAAA,GAAAsB,SAAA,CAAAX,EAAA,CAAAW,SAAA,sCAAAA,SAAA,CAAAT,IAAA,MAAAM,QAAA,gBAG1D,mBAAAK,GAAA,SAAAN,KAAA,CAAAH,KAAA,MAAAC,SAAA,UAEL;AACA,MAAO,IAAM,CAAAS,OAAO,CAChB,QADS,CAAAA,OAAOA,CACfC,IAAS,CAAEC,aAAkB,oCAAAC,KAAA,CAAAvC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAC1B,SAAAsC,SAAOpC,QAA+B,MAAAC,MAAA,CAAAoC,iBAAA,CAAAlC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAkC,UAAAC,SAAA,iBAAAA,SAAA,CAAAhC,IAAA,CAAAgC,SAAA,CAAA/B,IAAA,SAC5BP,MAAW,CAAG,CAChBU,MAAM,CAAE,CACJ,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAA4B,SAAA,CAAAhC,IAAA,GAAAgC,SAAA,CAAA/B,IAAA,SAG0B,CAAAlB,KAAK,CAACkD,IAAI,IAAA3B,MAAA,CAAIpB,GAAG,aAAYwC,IAAI,CAAEhC,MAAM,CAAC,QAAAoC,iBAAA,CAAAE,SAAA,CAAAzB,IAAA,CAAzDX,IAAI,CAAAkC,iBAAA,CAAJlC,IAAI,CACZH,QAAQ,CAAC,CACLe,IAAI,CAAExB,KAAK,CAACkD,qBAAqB,CACjCxB,OAAO,CAAEd,IACb,CAAC,CAAC,CACFM,YAAY,CAACiC,KAAK,CAAC,CAAC,CACpBC,MAAM,CAACC,OAAO,CAACC,IAAI,CAAC,CAAC,CAAAN,SAAA,CAAA/B,IAAA,kBAAA+B,SAAA,CAAAhC,IAAA,IAAAgC,SAAA,CAAArB,EAAA,CAAAqB,SAAA,aAErBvC,QAAQ,CAAC,CAAEe,IAAI,CAAExB,KAAK,CAACuD,kBAAmB,CAAC,CAAC,CAAC,QAAAP,SAAA,CAAAhC,IAAA,IAE7C2B,aAAa,CAAC,KAAK,CAAC,CAAC,OAAAK,SAAA,CAAAQ,MAAA,8BAAAR,SAAA,CAAAnB,IAAA,MAAAgB,QAAA,uBAE5B,mBAAAY,GAAA,SAAAb,KAAA,CAAAb,KAAA,MAAAC,SAAA,UAET;AACA,MAAO,IAAM,CAAA0B,OAAO,CAChB,QADS,CAAAA,OAAOA,CAAA,oCAAAC,KAAA,CAAAtD,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACV,SAAAqD,SAAOnD,QAA+B,MAAAC,MAAA,CAAAmD,iBAAA,CAAAjD,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAiD,UAAAC,SAAA,iBAAAA,SAAA,CAAA/C,IAAA,CAAA+C,SAAA,CAAA9C,IAAA,SAClCP,MAAW,CAAG,CAChBU,MAAM,CAAE,CACJ,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAA2C,SAAA,CAAA/C,IAAA,GAAA+C,SAAA,CAAA9C,IAAA,SAG0B,CAAAlB,KAAK,CAACsB,GAAG,IAAAC,MAAA,CAAIpB,GAAG,WAAUQ,MAAM,CAAC,QAAAmD,iBAAA,CAAAE,SAAA,CAAAxC,IAAA,CAAhDX,IAAI,CAAAiD,iBAAA,CAAJjD,IAAI,CACZH,QAAQ,CAAC,CAAEe,IAAI,CAAExB,KAAK,CAACgE,UAAU,CAAEtC,OAAO,CAAEd,IAAK,CAAC,CAAC,CAACmD,SAAA,CAAA9C,IAAA,iBAAA8C,SAAA,CAAA/C,IAAA,GAAA+C,SAAA,CAAApC,EAAA,CAAAoC,SAAA,sCAAAA,SAAA,CAAAlC,IAAA,MAAA+B,QAAA,gBAG3D,mBAAAK,GAAA,SAAAN,KAAA,CAAA5B,KAAA,MAAAC,SAAA,UAEL;AACA,MAAO,IAAM,CAAAkC,UAAU,CACnB,QADS,CAAAA,UAAUA,CAAA,oCAAAC,KAAA,CAAA9D,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACb,SAAA6D,SAAO3D,QAA+B,MAAAC,MAAA,CAAA2D,iBAAA,CAAAzD,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAyD,UAAAC,SAAA,iBAAAA,SAAA,CAAAvD,IAAA,CAAAuD,SAAA,CAAAtD,IAAA,SAClCP,MAAW,CAAG,CAChBU,MAAM,CAAE,CACJ,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAAmD,SAAA,CAAAvD,IAAA,GAAAuD,SAAA,CAAAtD,IAAA,SAG0B,CAAAlB,KAAK,CAACsB,GAAG,IAAAC,MAAA,CAAIpB,GAAG,aAAYQ,MAAM,CAAC,QAAA2D,iBAAA,CAAAE,SAAA,CAAAhD,IAAA,CAAlDX,IAAI,CAAAyD,iBAAA,CAAJzD,IAAI,CACZH,QAAQ,CAAC,CAAEe,IAAI,CAAExB,KAAK,CAACwE,WAAW,CAAE9C,OAAO,CAAEd,IAAK,CAAC,CAAC,CAAC2D,SAAA,CAAAtD,IAAA,iBAAAsD,SAAA,CAAAvD,IAAA,GAAAuD,SAAA,CAAA5C,EAAA,CAAA4C,SAAA,sCAAAA,SAAA,CAAA1C,IAAA,MAAAuC,QAAA,gBAG5D,mBAAAK,GAAA,SAAAN,KAAA,CAAApC,KAAA,MAAAC,SAAA,UAEL;AACA,MAAO,IAAM,CAAA0C,cAAc,CACvB,QADS,CAAAA,cAAcA,CAAA,oCAAAC,KAAA,CAAAtE,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACjB,SAAAqE,SAAOnE,QAA+B,MAAAC,MAAA,CAAAmE,iBAAA,CAAAjE,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAiE,UAAAC,SAAA,iBAAAA,SAAA,CAAA/D,IAAA,CAAA+D,SAAA,CAAA9D,IAAA,SAClCP,MAAW,CAAG,CAChBU,MAAM,CAAE,CACJ,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAA2D,SAAA,CAAA/D,IAAA,GAAA+D,SAAA,CAAA9D,IAAA,SAG0B,CAAAlB,KAAK,CAACsB,GAAG,IAAAC,MAAA,CAAIpB,GAAG,iBAAgBQ,MAAM,CAAC,QAAAmE,iBAAA,CAAAE,SAAA,CAAAxD,IAAA,CAAtDX,IAAI,CAAAiE,iBAAA,CAAJjE,IAAI,CACZH,QAAQ,CAAC,CAAEe,IAAI,CAAExB,KAAK,CAACgF,eAAe,CAAEtD,OAAO,CAAEd,IAAK,CAAC,CAAC,CAACmE,SAAA,CAAA9D,IAAA,iBAAA8D,SAAA,CAAA/D,IAAA,GAAA+D,SAAA,CAAApD,EAAA,CAAAoD,SAAA,sCAAAA,SAAA,CAAAlD,IAAA,MAAA+C,QAAA,gBAGhE,mBAAAK,GAAA,SAAAN,KAAA,CAAA5C,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module"}