{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\DATN_CTV\\\\frontend\\\\src\\\\pages\\\\admin\\\\UserForm.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, CircularProgress, Accordion, AccordionDetails } from \"@material-ui/core\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useDispatch } from \"react-redux\";\nimport FormField from \"pages/auth/FormField\";\nimport { updateUser } from \"redux/actions/admin\";\nimport FormFieldRole from \"pages/auth/FormFieldRole\";\nimport FormFieldDepartment from \"pages/auth/FormDepartment_Admin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  btnLogin: {\n    marginTop: theme.spacing(1.5),\n    marginRight: theme.spacing(1),\n    padding: theme.spacing(1, 2)\n  },\n  accordion: {\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(1)\n  }\n}));\nconst UserForm = _ref => {\n  _s();\n  var _user$username, _user$email, _user$role, _user$department;\n  let {\n    user\n  } = _ref;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const initialValues = {\n    username: (_user$username = user === null || user === void 0 ? void 0 : user.username) !== null && _user$username !== void 0 ? _user$username : \"\",\n    email: (_user$email = user === null || user === void 0 ? void 0 : user.email) !== null && _user$email !== void 0 ? _user$email : \"\",\n    password: \"\",\n    role: (_user$role = user === null || user === void 0 ? void 0 : user.role) !== null && _user$role !== void 0 ? _user$role : \"\",\n    department: (_user$department = user === null || user === void 0 ? void 0 : user.department) !== null && _user$department !== void 0 ? _user$department : \"\"\n  };\n  const onHandleSubmit = (values, _ref2) => {\n    let {\n      setSubmitting\n    } = _ref2;\n    return dispatch(updateUser(values, user._id, setSubmitting));\n  };\n  const validationSchema = Yup.object({\n    username: Yup.string().required(\"required!\"),\n    email: Yup.string().email(\"Invalid email!\").required(\"required!\"),\n    password: Yup.string().required(\"required!\")\n    // role: Yup.string().required(\"required!\"),\n    // department: Yup.string().required(\"required!\")\n  });\n\n  return /*#__PURE__*/_jsxDEV(Accordion, {\n    className: classes.accordion,\n    elevation: 0,\n    children: /*#__PURE__*/_jsxDEV(AccordionDetails, {\n      children: /*#__PURE__*/_jsxDEV(Formik, {\n        enableReinitialize: true,\n        initialValues: initialValues,\n        validationSchema: validationSchema,\n        onSubmit: onHandleSubmit,\n        children: _ref3 => {\n          let {\n            isSubmitting,\n            handleSubmit\n          } = _ref3;\n          return /*#__PURE__*/_jsxDEV(\"form\", {\n            noValidate: true,\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(FormField, {\n              isRegister: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormFieldRole, {\n              isRole: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormFieldDepartment, {\n              isDepartmentCbb: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"primary\",\n              size: \"small\",\n              className: classes.btnLogin,\n              disabled: isSubmitting,\n              children: isSubmitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: \"1rem\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, this) : \"Cập Nhật\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(UserForm, \"aFWslISJzTtHlU1qXyXYeeBhNak=\", false, function () {\n  return [useStyles, useDispatch];\n});\n_c = UserForm;\nexport default UserForm;\nvar _c;\n$RefreshReg$(_c, \"UserForm\");","map":{"version":3,"names":["React","makeStyles","Button","CircularProgress","Accordion","AccordionDetails","Formik","Yup","useDispatch","FormField","updateUser","FormFieldRole","FormFieldDepartment","jsxDEV","_jsxDEV","useStyles","theme","root","flexGrow","btnLogin","marginTop","spacing","marginRight","padding","accordion","marginBottom","UserForm","_ref","_s","_user$username","_user$email","_user$role","_user$department","user","classes","dispatch","initialValues","username","email","password","role","department","onHandleSubmit","values","_ref2","setSubmitting","_id","validationSchema","object","string","required","className","elevation","children","enableReinitialize","onSubmit","_ref3","isSubmitting","handleSubmit","noValidate","isRegister","fileName","_jsxFileName","lineNumber","columnNumber","isRole","isDepartmentCbb","type","variant","color","size","disabled","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/Desktop/DATN_CTV/frontend/src/pages/admin/UserForm.tsx"],"sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, CircularProgress, Accordion, AccordionDetails } from \"@material-ui/core\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useDispatch } from \"react-redux\";\nimport FormField from \"pages/auth/FormField\";\nimport { updateUser } from \"redux/actions/admin\";\nimport FormFieldRole from \"pages/auth/FormFieldRole\";\nimport FormFieldDepartment from \"pages/auth/FormDepartment_Admin\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  btnLogin: {\n    marginTop: theme.spacing(1.5),\n    marginRight: theme.spacing(1),\n    padding: theme.spacing(1, 2),\n  },\n  accordion: {\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(1),\n  },\n}));\n\ntype Props = {\n  user: any;\n};\n\ninterface IInitialValues {\n  username: string;\n  email?: string;\n  password: string;\n  role?: any;\n  department?: any;\n}\n\nconst UserForm: React.FC<Props> = ({ user }): JSX.Element => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const initialValues: IInitialValues = {\n    username: user?.username ?? \"\",\n    email: user?.email ?? \"\",\n    password: \"\",\n    role: user?.role ?? \"\",\n    department: user?.department ?? \"\",\n  };\n  \n\n  const onHandleSubmit = (\n    values: IInitialValues,\n    { setSubmitting }: any\n  ): Promise<void> =>\n    dispatch<any>(updateUser(values, user._id, setSubmitting));\n\n  const validationSchema = Yup.object({\n    username: Yup.string().required(\"required!\"),\n    email: Yup.string().email(\"Invalid email!\").required(\"required!\"),\n    password: Yup.string().required(\"required!\"),\n    // role: Yup.string().required(\"required!\"),\n    // department: Yup.string().required(\"required!\")\n\n  });\n\n  return (\n    <Accordion className={classes.accordion} elevation={0}>\n      <AccordionDetails>\n        <Formik\n          enableReinitialize\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={onHandleSubmit}\n        >\n          {({ isSubmitting, handleSubmit }) => (\n            <form noValidate onSubmit={handleSubmit}>\n              <FormField isRegister={true} />\n              <FormFieldRole isRole={true} />\n              <FormFieldDepartment isDepartmentCbb={true}/>\n              <Button\n                type='submit'\n                variant='contained'\n                color='primary'\n                size='small'\n                className={classes.btnLogin}\n                disabled={isSubmitting}\n              >\n                {isSubmitting ? <CircularProgress size='1rem' /> : \"Cập Nhật\"}\n              </Button>\n              {/* <Button\n                type='button'\n                variant='contained'\n                color='secondary'\n                size='small'\n                className={classes.btnLogin}\n                onClick={(e) => dispatch(deleteUser(user._id))}\n              >\n                Xóa\n              </Button> */}\n            </form>\n          )}\n        </Formik>\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\nexport default UserForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}