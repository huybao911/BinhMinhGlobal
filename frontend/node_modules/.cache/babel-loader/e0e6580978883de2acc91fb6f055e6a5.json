{"ast":null,"code":"import types from \"../actions/types\";\nconst initialState = {\n  token: localStorage.getItem(\"admin__token\"),\n  loading: false,\n  isAuthenticated: null,\n  admin: {},\n  getRole: {},\n  cities: [],\n  products: [],\n  typeproducts: [],\n  roles: [],\n  users: []\n};\nconst adminReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case types.ADMIN_LOADED:\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case types.ADMIN_ADDCITY_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case types.UPDATE_CITY:\n      return {\n        ...state,\n        cities: state.cities.map(city => city._id === action.payload.id ? {\n          ...action.payload.city\n        } : city)\n      };\n    case types.DELETE_CITY:\n      return {\n        ...state,\n        cities: state.cities.filter(city => city._id !== action.payload)\n      };\n    case types.ADMIN_ADDPRODUCT_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case types.UPDATE_PRODUCT:\n      return {\n        ...state,\n        products: state.products.map(product => product._id === action.payload.id ? {\n          ...action.payload.product\n        } : product)\n      };\n    case types.DELETE_PRODUCT:\n      return {\n        ...state,\n        products: state.products.filter(product => product._id !== action.payload)\n      };\n    case types.ADMIN_ADDTYPEPRODUCT_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case types.UPDATE_TYPEPRODUCT:\n      return {\n        ...state,\n        typeproducts: state.typeproducts.map(typeproduct => typeproduct._id === action.payload.id ? {\n          ...action.payload.typeproduct\n        } : typeproduct)\n      };\n    case types.DELETE_TYPEPRODUCT:\n      return {\n        ...state,\n        typeproducts: state.typeproducts.filter(typeproduct => typeproduct._id !== action.payload)\n      };\n    case types.UPDATE_USER:\n      return {\n        ...state,\n        users: state.users.map(user => user._id === action.payload.id ? {\n          ...action.payload.user\n        } : user)\n      };\n    case types.ADMIN_LOGIN_SUCCESS:\n      localStorage.setItem(\"admin__token\", action.payload.token);\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case types.GET_USERS:\n      return {\n        ...state,\n        users: action.payload\n      };\n    case types.GET_USER:\n      return {\n        ...state,\n        users: action.payload\n      };\n    case types.GET_CITIES:\n      return {\n        ...state,\n        cities: action.payload\n      };\n    case types.GET_PRODUCT:\n      return {\n        ...state,\n        products: action.payload\n      };\n    case types.GET_TYPEPRODUCT:\n      return {\n        ...state,\n        typeproducts: action.payload\n      };\n    case types.GET_ROLES:\n      return {\n        ...state,\n        roles: action.payload\n      };\n    case types.DELETE_USER:\n      return {\n        ...state,\n        users: state.users.filter(user => user._id !== action.payload)\n      };\n    case types.ADMIN_ADDCITY_FAIL:\n    case types.ADMIN_ADDPRODUCT_FAIL:\n    case types.ADMIN_ADDTYPEPRODUCT_FAIL:\n    case types.ADMIN_LOGIN_FAIL:\n    case types.ADMIN_AUTH_ERROR:\n    case types.ADMIN_LOGOUT:\n      localStorage.removeItem(\"admin__token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n        admin: {},\n        users: []\n      };\n    default:\n      return state;\n  }\n};\nexport default adminReducer;","map":{"version":3,"names":["types","initialState","token","localStorage","getItem","loading","isAuthenticated","admin","getRole","cities","products","typeproducts","roles","users","adminReducer","state","arguments","length","undefined","action","type","ADMIN_LOADED","payload","ADMIN_ADDCITY_SUCCESS","UPDATE_CITY","map","city","_id","id","DELETE_CITY","filter","ADMIN_ADDPRODUCT_SUCCESS","UPDATE_PRODUCT","product","DELETE_PRODUCT","ADMIN_ADDTYPEPRODUCT_SUCCESS","UPDATE_TYPEPRODUCT","typeproduct","DELETE_TYPEPRODUCT","UPDATE_USER","user","ADMIN_LOGIN_SUCCESS","setItem","GET_USERS","GET_USER","GET_CITIES","GET_PRODUCT","GET_TYPEPRODUCT","GET_ROLES","DELETE_USER","ADMIN_ADDCITY_FAIL","ADMIN_ADDPRODUCT_FAIL","ADMIN_ADDTYPEPRODUCT_FAIL","ADMIN_LOGIN_FAIL","ADMIN_AUTH_ERROR","ADMIN_LOGOUT","removeItem"],"sources":["D:/WORKSPACE/Project/BinhMinhGlobal/frontend/src/redux/reducers/admin.ts"],"sourcesContent":["import types from \"../actions/types\";\r\nimport { IAdmin } from \"../types/admin\";\r\nimport { IUser } from \"../types/user\";\r\nimport { IProduct } from \"../types/product\";\r\nimport { ITypeProduct } from \"../types/typeproduct\";\r\nimport { IRole } from \"../types/role\";\r\nimport { ICity } from \"../types/city\";\r\nimport { IAdminState, AdminActions } from \"../types/admin\";\r\n\r\nconst initialState: IAdminState = {\r\n    token: localStorage.getItem(\"admin__token\"),\r\n    loading: false,\r\n    isAuthenticated: null,\r\n    admin: {} as IAdmin,\r\n    getRole: {} as IRole,\r\n    cities: [] as ICity[],\r\n    products: [] as IProduct[],\r\n    typeproducts: [] as ITypeProduct[],\r\n    roles: [] as IRole[],\r\n    users: [] as IUser[],\r\n};\r\n\r\nconst adminReducer = (\r\n    state = initialState,\r\n    action: AdminActions\r\n): IAdminState => {\r\n    switch (action.type) {\r\n        case types.ADMIN_LOADED:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n            };\r\n        case types.ADMIN_ADDCITY_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n            };\r\n        case types.UPDATE_CITY:\r\n            return {\r\n                ...state,\r\n                cities: state.cities.map((city) =>\r\n                    city._id === action.payload.id ? { ...action.payload.city } : city\r\n                ),\r\n            };\r\n\r\n        case types.DELETE_CITY:\r\n            return {\r\n                ...state,\r\n                cities: state.cities.filter((city) => city._id !== action.payload),\r\n            };\r\n        case types.ADMIN_ADDPRODUCT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n            };\r\n        case types.UPDATE_PRODUCT:\r\n            return {\r\n                ...state,\r\n                products: state.products.map((product) =>\r\n                    product._id === action.payload.id ? { ...action.payload.product } : product\r\n                ),\r\n            };\r\n\r\n        case types.DELETE_PRODUCT:\r\n            return {\r\n                ...state,\r\n                products: state.products.filter((product) => product._id !== action.payload),\r\n            };\r\n\r\n        case types.ADMIN_ADDTYPEPRODUCT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n            };\r\n        case types.UPDATE_TYPEPRODUCT:\r\n            return {\r\n                ...state,\r\n                typeproducts: state.typeproducts.map((typeproduct) =>\r\n                    typeproduct._id === action.payload.id ? { ...action.payload.typeproduct } : typeproduct\r\n                ),\r\n            };\r\n\r\n        case types.DELETE_TYPEPRODUCT:\r\n            return {\r\n                ...state,\r\n                typeproducts: state.typeproducts.filter((typeproduct) => typeproduct._id !== action.payload),\r\n            };\r\n\r\n        case types.UPDATE_USER:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((user) =>\r\n                    user._id === action.payload.id ? { ...action.payload.user } : user\r\n                ),\r\n            };\r\n\r\n        case types.ADMIN_LOGIN_SUCCESS:\r\n            localStorage.setItem(\"admin__token\", action.payload.token);\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n            };\r\n\r\n        case types.GET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.payload,\r\n            };\r\n\r\n        case types.GET_USER:\r\n            return {\r\n                ...state,\r\n                users: action.payload,\r\n            };\r\n\r\n        case types.GET_CITIES:\r\n            return {\r\n                ...state,\r\n                cities: action.payload,\r\n            };\r\n\r\n        case types.GET_PRODUCT:\r\n            return {\r\n                ...state,\r\n                products: action.payload,\r\n            };\r\n\r\n        case types.GET_TYPEPRODUCT:\r\n            return {\r\n                ...state,\r\n                typeproducts: action.payload,\r\n            };\r\n\r\n        case types.GET_ROLES:\r\n            return {\r\n                ...state,\r\n                roles: action.payload,\r\n            };\r\n\r\n        case types.DELETE_USER:\r\n            return {\r\n                ...state,\r\n                users: state.users.filter((user) => user._id !== action.payload),\r\n            };\r\n\r\n        case types.ADMIN_ADDCITY_FAIL:\r\n        case types.ADMIN_ADDPRODUCT_FAIL:\r\n        case types.ADMIN_ADDTYPEPRODUCT_FAIL:\r\n        case types.ADMIN_LOGIN_FAIL:\r\n        case types.ADMIN_AUTH_ERROR:\r\n        case types.ADMIN_LOGOUT:\r\n            localStorage.removeItem(\"admin__token\");\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                isAuthenticated: false,\r\n                loading: false,\r\n                admin: {} as IAdmin,\r\n                users: [],\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default adminReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}