{"ast":null,"code":"import React from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{Button,CircularProgress,Accordion,AccordionDetails}from\"@material-ui/core\";import{Formik}from\"formik\";import*as Yup from\"yup\";import{useDispatch}from\"react-redux\";import FormField from\"../../pages/auth/FormField\";import{updateUser}from\"../../redux/actions/admin\";import FormFieldRole from\"../../pages/auth/FormFieldRole\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},btnLogin:{marginTop:theme.spacing(1.5),marginRight:theme.spacing(1),padding:theme.spacing(1,2)},accordion:{marginBottom:theme.spacing(3),padding:theme.spacing(1)}};});var UserForm=function UserForm(_ref){var _user$username,_user$role;var user=_ref.user;var classes=useStyles();var dispatch=useDispatch();var initialValues={username:(_user$username=user===null||user===void 0?void 0:user.username)!==null&&_user$username!==void 0?_user$username:\"\",password:\"\",role:(_user$role=user===null||user===void 0?void 0:user.role)!==null&&_user$role!==void 0?_user$role:\"\"};var onHandleSubmit=function onHandleSubmit(values,_ref2){var setSubmitting=_ref2.setSubmitting;return dispatch(updateUser(values,user._id,setSubmitting));};var validationSchema=Yup.object({username:Yup.string().required(\"required!\"),password:Yup.string().required(\"required!\")// role: Yup.string().required(\"required!\"),\n// department: Yup.string().required(\"required!\")\n});return/*#__PURE__*/_jsx(Accordion,{className:classes.accordion,elevation:0,children:/*#__PURE__*/_jsx(AccordionDetails,{children:/*#__PURE__*/_jsx(Formik,{enableReinitialize:true,initialValues:initialValues,validationSchema:validationSchema,onSubmit:onHandleSubmit,children:function children(_ref3){var isSubmitting=_ref3.isSubmitting,handleSubmit=_ref3.handleSubmit;return/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormField,{}),/*#__PURE__*/_jsx(FormFieldRole,{isRole:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",size:\"small\",className:classes.btnLogin,disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsx(CircularProgress,{size:\"1rem\"}):\"Cập Nhật\"})]});}})})});};export default UserForm;","map":{"version":3,"names":["React","makeStyles","Button","CircularProgress","Accordion","AccordionDetails","Formik","Yup","useDispatch","FormField","updateUser","FormFieldRole","jsx","_jsx","jsxs","_jsxs","useStyles","theme","root","flexGrow","btnLogin","marginTop","spacing","marginRight","padding","accordion","marginBottom","UserForm","_ref","_user$username","_user$role","user","classes","dispatch","initialValues","username","password","role","onHandleSubmit","values","_ref2","setSubmitting","_id","validationSchema","object","string","required","className","elevation","children","enableReinitialize","onSubmit","_ref3","isSubmitting","handleSubmit","noValidate","isRole","type","variant","color","size","disabled"],"sources":["D:/WORKSPACE/Project/BinhMinhGlobal/frontend/src/pages/admin/UserForm.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button, CircularProgress, Accordion, AccordionDetails } from \"@material-ui/core\";\r\nimport { Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport FormField from \"../../pages/auth/FormField\";\r\nimport { updateUser } from \"../../redux/actions/admin\";\r\nimport FormFieldRole from \"../../pages/auth/FormFieldRole\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  btnLogin: {\r\n    marginTop: theme.spacing(1.5),\r\n    marginRight: theme.spacing(1),\r\n    padding: theme.spacing(1, 2),\r\n  },\r\n  accordion: {\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\ntype Props = {\r\n  user: any;\r\n};\r\n\r\ninterface IInitialValues {\r\n  username: string;\r\n  password: string;\r\n  role?: any;\r\n}\r\n\r\nconst UserForm: React.FC<Props> = ({ user }): JSX.Element => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const initialValues: IInitialValues = {\r\n    username: user?.username ?? \"\",\r\n    password: \"\",\r\n    role: user?.role ?? \"\",\r\n  };\r\n  \r\n\r\n  const onHandleSubmit = (\r\n    values: IInitialValues,\r\n    { setSubmitting }: any\r\n  ): Promise<void> =>\r\n    dispatch<any>(updateUser(values, user._id, setSubmitting));\r\n\r\n  const validationSchema = Yup.object({\r\n    username: Yup.string().required(\"required!\"),\r\n    password: Yup.string().required(\"required!\"),\r\n    // role: Yup.string().required(\"required!\"),\r\n    // department: Yup.string().required(\"required!\")\r\n\r\n  });\r\n\r\n  return (\r\n    <Accordion className={classes.accordion} elevation={0}>\r\n      <AccordionDetails>\r\n        <Formik\r\n          enableReinitialize\r\n          initialValues={initialValues}\r\n          validationSchema={validationSchema}\r\n          onSubmit={onHandleSubmit}\r\n        >\r\n          {({ isSubmitting, handleSubmit }) => (\r\n            <form noValidate onSubmit={handleSubmit}>\r\n              <FormField/>\r\n              <FormFieldRole isRole={true} />\r\n              <Button\r\n                type='submit'\r\n                variant='contained'\r\n                color='primary'\r\n                size='small'\r\n                className={classes.btnLogin}\r\n                disabled={isSubmitting}\r\n              >\r\n                {isSubmitting ? <CircularProgress size='1rem' /> : \"Cập Nhật\"}\r\n              </Button>\r\n              {/* <Button\r\n                type='button'\r\n                variant='contained'\r\n                color='secondary'\r\n                size='small'\r\n                className={classes.btnLogin}\r\n                onClick={(e) => dispatch(deleteUser(user._id))}\r\n              >\r\n                Xóa\r\n              </Button> */}\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </AccordionDetails>\r\n    </Accordion>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}