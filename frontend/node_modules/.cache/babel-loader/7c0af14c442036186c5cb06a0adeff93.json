{"ast":null,"code":"import _slicedToArray from\"D:/WORKSPACE/Project/BinhMinhGlobal/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{FormControl,FormLabel,Grid,MenuItem,Select}from\"@material-ui/core\";import{useFormikContext}from\"formik\";import{getRoles}from\"../../redux/actions/admin\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{formLabel:{fontWeight:600,marginBottom:theme.spacing(1.5)},formControl:{margin:theme.spacing(2,0)},placeholder:{color:\"#aaa\"}};});var FormFieldRole=function FormFieldRole(_ref){var _ref$isRole=_ref.isRole,isRole=_ref$isRole===void 0?false:_ref$isRole;var classes=useStyles();var dispatch=useDispatch();var _useFormikContext=useFormikContext(),values=_useFormikContext.values,handleChange=_useFormikContext.handleChange,handleBlur=_useFormikContext.handleBlur,touched=_useFormikContext.touched,errors=_useFormikContext.errors;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),roles=_React$useState2[0],setRoles=_React$useState2[1];var Role=useSelector(function(state){return state.admin;});React.useEffect(function(){dispatch(getRoles());},[dispatch]);React.useEffect(function(){setRoles(function(){var _Role$roles;return Role===null||Role===void 0?void 0:(_Role$roles=Role.roles)===null||_Role$roles===void 0?void 0:_Role$roles.filter(function(role){return role._id;});});},[Role]);return/*#__PURE__*/_jsx(_Fragment,{children:isRole?/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,className:classes.formControl,children:[/*#__PURE__*/_jsx(FormLabel,{classes:{root:classes.formLabel},children:\"Vai tr\\xF2\"}),/*#__PURE__*/_jsx(Select,{name:\"role\",labelId:\"demo-simple-select-label\",id:\"handle-role\",value:values.role._id,onChange:handleChange,onBlur:handleBlur,error:touched.role?Boolean(errors.role):false// renderValue={\n//     role !== \"\" ? undefined : () => <Placeholder>Role</Placeholder>\n// }\n,children:roles===null||roles===void 0?void 0:roles.map(function(role){return/*#__PURE__*/_jsx(MenuItem,{value:role._id,children:role.nameRole},role._id);})})]})}):null});};export default FormFieldRole;","map":{"version":3,"names":["React","makeStyles","FormControl","FormLabel","Grid","MenuItem","Select","useFormikContext","getRoles","useDispatch","useSelector","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useStyles","theme","formLabel","fontWeight","marginBottom","spacing","formControl","margin","placeholder","color","FormFieldRole","_ref","_ref$isRole","isRole","classes","dispatch","_useFormikContext","values","handleChange","handleBlur","touched","errors","_React$useState","useState","_React$useState2","_slicedToArray","roles","setRoles","Role","state","admin","useEffect","_Role$roles","filter","role","_id","children","item","xs","fullWidth","className","root","name","labelId","id","value","onChange","onBlur","error","Boolean","map","nameRole"],"sources":["D:/WORKSPACE/Project/BinhMinhGlobal/frontend/src/pages/auth/FormFieldRole.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { FormControl, FormLabel,Grid, MenuItem, Select } from \"@material-ui/core\";\r\nimport { useFormikContext } from \"formik\";\r\n\r\nimport { getRoles } from \"../../redux/actions/admin\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../redux/reducers\";\r\nimport { IRole } from \"../../redux/types/role\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formLabel: {\r\n        fontWeight: 600,\r\n        marginBottom: theme.spacing(1.5),\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(2, 0),\r\n    },\r\n    placeholder: {\r\n        color: \"#aaa\"\r\n    }\r\n}));\r\n\r\ntype Props = {\r\n    isRole?: boolean;\r\n};\r\n\r\ninterface IValues {\r\n    role?: any;\r\n}\r\n\r\nconst FormFieldRole: React.FC<Props> = ({ isRole = false }): JSX.Element => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const { values, handleChange, handleBlur, touched, errors } =\r\n        useFormikContext<IValues>();\r\n    const [roles, setRoles] = React.useState<IRole[]>([]);\r\n    const Role = useSelector((state: RootState) => state.admin);\r\n\r\n    React.useEffect(() => {\r\n        dispatch(getRoles());\r\n    }, [dispatch]);\r\n\r\n    React.useEffect(() => {\r\n        setRoles(() => Role?.roles?.filter((role: any) => role._id));\r\n    }, [Role]);\r\n    return (\r\n        <>\r\n            {isRole ? (\r\n                <Grid item xs={12}>\r\n                    <FormControl fullWidth className={classes.formControl}>\r\n                        <FormLabel classes={{ root: classes.formLabel }}>Vai tr√≤</FormLabel>\r\n                        <Select\r\n                            name='role'\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"handle-role\"\r\n                            value={values.role._id}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            error={touched.role ? Boolean(errors.role) : false}\r\n\r\n                        // renderValue={\r\n                        //     role !== \"\" ? undefined : () => <Placeholder>Role</Placeholder>\r\n                        // }\r\n                        >\r\n                            {roles?.map((role: any) => (\r\n                                <MenuItem value={role._id} key={role._id}>\r\n                                    {role.nameRole}\r\n                                </MenuItem>\r\n                            ))}\r\n\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n            ) : null}\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FormFieldRole;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}