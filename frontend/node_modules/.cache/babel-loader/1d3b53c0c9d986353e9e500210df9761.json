{"ast":null,"code":"import types from \"redux/actions/types\";\nconst initialState = {\n  token: localStorage.getItem(\"user__token\"),\n  loading: true,\n  isAuthenticated: null,\n  user: {},\n  getRole: {},\n  getDepartment: {},\n  users: [],\n  events: [],\n  jobs: [],\n  departments: []\n};\nconst userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case types.USER_LOADED:\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case types.USER_REGISTER_SUCCESS:\n      localStorage.setItem(\"user__token\", action.payload.token);\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case types.USER_LOGIN_SUCCESS:\n      localStorage.setItem(\"user__token\", action.payload.token);\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case types.GET_DEPARTMENTS:\n      return {\n        ...state,\n        departments: action.payload\n      };\n    case types.GET_EVENTS:\n      return {\n        ...state,\n        events: action.payload\n      };\n    case types.GET_STORAGER:\n      return {\n        ...state,\n        events: action.payload\n      };\n    case types.CREATE_STORAGER:\n      return {\n        ...state,\n        events: state.events.map(event => event._id === action.payload.id ? {\n          ...action.payload.event\n        } : event)\n      };\n    case types.DELETE_STORAGER:\n      return {\n        ...state,\n        events: state.events.map(event => event._id === action.payload.id ? {\n          ...action.payload.event\n        } : event)\n      };\n    case types.GET_JOB_USER_APPLY:\n      return {\n        ...state,\n        events: action.payload\n      };\n    case types.USER_APPLY_JOB:\n      return {\n        ...state,\n        events: state.events.map(event => event._id === action.payload.id ? {\n          ...action.payload.event\n        } : event)\n      };\n    case types.USER_UNAPPLY_JOB:\n      return {\n        ...state,\n        events: state.events.map(event => event._id === action.payload.id ? {\n          ...action.payload.event\n        } : event)\n      };\n    case types.GET_PROFILE:\n      return {\n        ...state,\n        users: action.payload\n      };\n    case types.UPDATE_PROFILE:\n      return {\n        ...state,\n        users: state.users.map(user => user._id === action.payload.id ? {\n          ...action.payload.user\n        } : user)\n      };\n    case types.USER_REGISTER_FAIL:\n    case types.USER_LOGIN_FAIL:\n    case types.USER_AUTH_ERROR:\n    case types.USER_LOGOUT:\n      localStorage.removeItem(\"user__token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n        user: {}\n      };\n    default:\n      return state;\n  }\n};\nexport default userReducer;","map":{"version":3,"names":["types","initialState","token","localStorage","getItem","loading","isAuthenticated","user","getRole","getDepartment","users","events","jobs","departments","userReducer","state","arguments","length","undefined","action","type","USER_LOADED","payload","USER_REGISTER_SUCCESS","setItem","USER_LOGIN_SUCCESS","GET_DEPARTMENTS","GET_EVENTS","GET_STORAGER","CREATE_STORAGER","map","event","_id","id","DELETE_STORAGER","GET_JOB_USER_APPLY","USER_APPLY_JOB","USER_UNAPPLY_JOB","GET_PROFILE","UPDATE_PROFILE","USER_REGISTER_FAIL","USER_LOGIN_FAIL","USER_AUTH_ERROR","USER_LOGOUT","removeItem"],"sources":["C:/Users/ADMIN/Desktop/DATN_CTV/frontend/src/redux/reducers/user.ts"],"sourcesContent":["import types from \"redux/actions/types\";\nimport { IUserState, UserActions } from \"../types/user\";\nimport { IUser } from \"redux/types/user\";\nimport { IRole } from \"redux/types/role\";\nimport { IDepartment } from \"redux/types/department\";\nimport { IEvent } from \"redux/types/event\";\nimport { IJobEvent } from \"redux/types/jobEvent\";\n\nconst initialState: IUserState = {\n  token: localStorage.getItem(\"user__token\"),\n  loading: true,\n  isAuthenticated: null,\n  user: {} as IUser,\n  getRole: {} as IRole,\n  getDepartment: {} as IDepartment,\n  users: [] as IUser[],\n  events: [] as IEvent[],\n  jobs: [] as IJobEvent[],\n  departments: [] as IDepartment[],\n};\n\nconst userReducer = (state = initialState, action: UserActions): IUserState => {\n  switch (action.type) {\n    case types.USER_LOADED:\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false,\n      };\n\n    case types.USER_REGISTER_SUCCESS:\n      localStorage.setItem(\"user__token\", action.payload.token);\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false,\n      };\n    case types.USER_LOGIN_SUCCESS:\n      localStorage.setItem(\"user__token\", action.payload.token);\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false,\n      };\n\n    case types.GET_DEPARTMENTS:\n      return {\n        ...state,\n        departments: action.payload,\n      };\n    case types.GET_EVENTS:\n      return {\n        ...state,\n        events: action.payload,\n      };\n    case types.GET_STORAGER:\n      return {\n        ...state,\n        events: action.payload,\n      };\n    case types.CREATE_STORAGER:\n      return {\n        ...state,\n        events: state.events.map((event) =>\n          event._id === action.payload.id ? { ...action.payload.event } : event\n        ),\n      };\n    case types.DELETE_STORAGER:\n      return {\n        ...state,\n        events: state.events.map((event) =>\n          event._id === action.payload.id ? { ...action.payload.event } : event\n        ),\n      };\n    case types.GET_JOB_USER_APPLY:\n      return {\n        ...state,\n        events: action.payload,\n      };\n    case types.USER_APPLY_JOB:\n      return {\n        ...state,\n        events: state.events.map((event) =>\n          event._id === action.payload.id ? { ...action.payload.event } : event\n        ),\n      };\n    case types.USER_UNAPPLY_JOB:\n      return {\n        ...state,\n        events: state.events.map((event) =>\n          event._id === action.payload.id ? { ...action.payload.event } : event\n        ),\n      };\n    case types.GET_PROFILE:\n      return {\n        ...state,\n        users: action.payload,\n      };\n    case types.UPDATE_PROFILE:\n      return {\n        ...state,\n        users: state.users.map((user) =>\n          user._id === action.payload.id ? { ...action.payload.user } : user\n        ),\n      };\n\n    case types.USER_REGISTER_FAIL:\n    case types.USER_LOGIN_FAIL:\n    case types.USER_AUTH_ERROR:\n    case types.USER_LOGOUT:\n      localStorage.removeItem(\"user__token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n        user: {} as IUser,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}